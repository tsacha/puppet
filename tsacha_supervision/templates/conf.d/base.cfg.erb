###############################################################################
###############################################################################
#
# HOST DEFINITION
#
###############################################################################
###############################################################################
# Define a host for the local machine
# This host definition will inherit all variables that are defined
# in (or inherited by) the linux-server host template definition.
define host {
  host_name                      <%= @fqdn %>
  alias                          <%= @fqdn %>
  address                        <%= @ipaddress6 %>
  use                            linux-server                        ; Name of host template to use
}

###############################################################################
###############################################################################
#
# SERVICE DEFINITIONS
#
###############################################################################
###############################################################################
# Define a service to "ping" the local machine
define service {
  service_description            PING
  host_name                      <%= @fqdn %>
  use                            generic-service                       ; Name of service template to use
  check_command                  check_ping!100.0,20%!500.0,60%
}

# Define a service to check SSH on the local machine.
# Disable notifications for this service by default, as not all users may have SSH enabled.
define service {
  service_description            SSH
  host_name                      <%= @fqdn %>
  use                            generic-service                       ; Name of service template to use
  check_command                  check_ssh
  notifications_enabled          1
}

