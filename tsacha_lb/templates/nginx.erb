server {
  listen 80 default_server;
  server_name _;
  server_name_in_redirect off;

  location / {
    proxy_pass http://[2001:41d0:2:a3be:1::3]:80/;

    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  }
}


server {
  server_name .dres.trs.io;
  root /var/www/html;
}

server {
  server_name .terres-creuses.fr;

  location / { 
    proxy_redirect     off;
  
    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;
  
    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  
    proxy_pass http://[2001:41d0:2:a3be:1::20]:80/;
  }
}

server {
  listen 443;
  server_name .s.tremoureux.fr .sacha.tremoureux.fr;
  ssl on;
  ssl_certificate /srv/certs/s.tremoureux.fr.crt;
  ssl_certificate_key /srv/certs/s.tremoureux.fr.key;

  location / {
    proxy_pass http://[2001:41d0:2:a3be:1::3]:80/;

    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  }
}

server {
  listen 443;
  server_name .glenn.pro;
  ssl on;
  ssl_certificate /srv/certs/glenn.pro.crt;
  ssl_certificate_key /srv/certs/glenn.pro.key;

  location / {
    proxy_pass http://[2001:41d0:2:a3be:1::3]:80/;

    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  }
}

server {
  listen 80;
  server_name .s.tremoureux.fr .sacha.tremoureux.fr;

  location / {
    proxy_pass http://[2001:41d0:2:a3be:1::3]:80/;

    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  }
}

server {
  listen 80;
  server_name .glenn.pro;

  location / {
    proxy_pass http://[2001:41d0:2:a3be:1::3]:80/;

    # you need to change this to "https", if you set "ssl" directive to "on"
    proxy_set_header   X-FORWARDED_PROTO http;
    proxy_set_header   Host              $http_host;
    proxy_set_header   X-Real-IP         $remote_addr;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_read_timeout 300;
    proxy_connect_timeout 300;
  }
}
